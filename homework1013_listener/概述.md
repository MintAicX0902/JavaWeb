### 实现概述：

该代码包含两个组件：**RequestLoggerListener** 和 **TestServlet**，它们用于记录和显示 HTTP 请求的详细信息。**RequestLoggerListener** 监听所有请求的初始化和销毁，并记录请求的详细信息，而 **TestServlet** 则用于验证这些日志信息是否正确记录并展示给用户。

1. **RequestLoggerListener** (`RequestLoggerListener.java`)：
   - **目的**：监听每一个请求的生命周期，包括请求的开始和结束，并记录请求的详细信息以便后续分析和调试。
   - **主要逻辑**：
     - **请求初始化 (`requestInitialized`)**：
       - 在请求开始时触发。获取请求的客户端 IP 地址、请求方法、请求 URI、查询字符串和用户代理信息，并将这些信息记录到日志中。
       - 将请求的开始时间存储到请求属性中，以便后续计算请求的处理时间。
       - 将请求的其他信息（例如客户端 IP、请求方法等）存入请求属性中，以便在请求结束时或其他组件中使用。
     - **请求销毁 (`requestDestroyed`)**：
       - 在请求结束时触发。计算请求的持续时间，并记录请求 URI 以及处理该请求所花费的时间。
       - 将请求的处理时间存储到请求属性中，以便其他组件（如 Servlet）在需要时获取。

2. **TestServlet** (`TestServlet.java`)：
   - **目的**：用于测试和展示通过 `RequestLoggerListener` 收集的请求信息。
   - **主要逻辑**：
     - 使用 `doGet` 方法处理 GET 请求。
     - 获取请求的相关信息（例如客户端 IP、请求方法、URI、查询字符串和用户代理信息）以及请求处理时间，并将这些信息以 HTML 格式展示给客户端。
     - 显示请求的处理时间，方便用户验证请求的整个生命周期及其性能。

### 附加功能：

1. **详细的请求日志记录**：
   - `RequestLoggerListener` 使用 Java 的 `Logger` 记录每个请求的详细信息，包括时间、客户端 IP、请求方法、请求 URI、查询字符串和用户代理。这些日志信息有助于后续的错误调试和系统监控。
   - 日志记录器是使用 `Logger.getLogger(RequestLoggerListener.class.getName())` 创建的，并定义为 `private static final`，确保整个类中使用同一个日志记录器，且不可更改。

2. **请求处理时间计算**：
   - `RequestLoggerListener` 在请求初始化时记录请求开始的时间，并在请求结束时计算处理时间。该时间用于评估请求的性能指标，方便系统管理员对性能瓶颈进行优化。

3. **用户反馈和展示**：
   - `TestServlet` 通过浏览器向用户展示请求的相关信息，包括客户端 IP、请求方法、请求 URI、用户代理和处理时间。这种展示方式方便开发人员和用户了解请求的详细情况，并检查日志记录是否正确。

### 总结：

该实现为 Java Web 应用程序提供了一个 **简单有效的请求日志记录和监控系统**。通过 **RequestLoggerListener**，每个请求的生命周期（从初始化到销毁）都被详细记录下来，为后续的系统监控和调试提供了有价值的信息。而 **TestServlet** 则用于直观地展示这些请求信息，帮助用户了解系统的请求处理过程及性能表现。
